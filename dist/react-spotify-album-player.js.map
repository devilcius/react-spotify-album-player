{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 64e4c562d5185d43bf60","webpack:///./src/index.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}"],"names":[],"mappings":"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","file":"react-spotify-album-player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SpotifyPlayer\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"SpotifyPlayer\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 64e4c562d5185d43bf60\n **/","'use strict';\r\nimport React from 'react';\r\nvar SpotifyPlayer = React.createClass({\r\n    getInitialState: function () {\r\n        return {\r\n            albumData: null, \r\n            playerPlaceholder: '<i class=\"fa fa-spinner fa-spin\"></li>'};\r\n    },\r\n    getDefaultProps: function() {\r\n        return {\r\n            noDataFoundText: 'No data found',\r\n            previewWarningText: 'Only 20 seconds preview'\r\n        }\r\n    },    \r\n    fetchAlbumData: function() {\r\n        var that = this;\r\n        var xhr = new XMLHttpRequest();\r\n        var url = 'https://api.spotify.com/v1/search'\r\n        var queryString = '?q=album:' + this.props.albumName + ' artist:' + this.props.artistName;\r\n        queryString += '&type=album';\r\n        xhr.open('get', encodeURI(url + queryString));\r\n        xhr.onload = function () {\r\n            var response = JSON.parse(xhr.responseText);\r\n            if(response.albums.items.length > 0) {                    \r\n                that.fetchTracks(response.albums.items[0].id, function(data) {\r\n                    if(data.tracks.items.length > 0){\r\n                        that.setState({albumData: data})\r\n                    } else {\r\n                        that.setState({playerPlaceholder: that.props.noDataFoundText});\r\n                    }\r\n                });\r\n            } else {\r\n                that.setState({playerPlaceholder: that.props.noDataFoundText});\r\n            }\r\n        };\r\n        xhr.send();\r\n    },\r\n    fetchTracks: function(albumId, callback){        \r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('get', 'https://api.spotify.com/v1/albums/' + albumId);\r\n        xhr.onload = function () {\r\n            var response = JSON.parse(xhr.responseText);\r\n            callback(response);\r\n        };\r\n        xhr.send();   \r\n    },     \r\n    componentDidMount: function() {\r\n      this.fetchAlbumData();\r\n    },    \r\n    render: function () {\r\n        var that = this;\r\n        var playlistHeader = function() {\r\n            if(that.props.showHeader) {\r\n                return(\r\n                    <div className=\"media\">\r\n                      <div className=\"media-left\">\r\n                        <a href={that.state.albumData.external_urls.spotify}>\r\n                          <img className=\"media-object\" width=\"64\"  height=\"64\" src={that.state.albumData.images[0].url} alt=\"cover image\" />\r\n                        </a>\r\n                      </div>\r\n                      <div className=\"media-body\">\r\n                        <h4 className=\"media-heading\">{that.state.albumData.name}</h4>\r\n                        {that.state.albumData.release_date}\r\n                      </div>\r\n                    </div>                        \r\n            );\r\n        }             \r\n            \r\n            return null;\r\n        };\r\n        if(this.state.albumData === null) {\r\n            return(\r\n                    <div dangerouslySetInnerHTML={{__html: this.state.playerPlaceholder }} >\r\n                    </div>\r\n                    );            \r\n        } else {\r\n            return(\r\n                <section className=\"spotify-player\">\r\n                    {playlistHeader()}                 \r\n                    <TrackList\r\n                        tracks={this.state.albumData.tracks.items}\r\n                        previewWarningText={this.props.previewWarningText}\r\n                    />\r\n                </section>\r\n                    );              \r\n        }\r\n    }\r\n});\r\n\r\nvar TrackList = React.createClass({\r\n    render: function () {   \r\n        var that = this;\r\n        var trackNodesData = this.props.tracks.map(function(track, index) {\r\n            return(\r\n                    <Track\r\n                        key={index}\r\n                        track={track}\r\n                        tooltip={that.props.previewWarningText}\r\n                    />\r\n                    )\r\n        });\r\n        return (\r\n                <ul className=\"list-group\">\r\n                    {trackNodesData}\r\n                </ul>\r\n        );        \r\n    }    \r\n});\r\n\r\nvar Track = React.createClass({\r\n    getInitialState: function () {\r\n        return {playingTrack: null, isPlaying: false};\r\n    },\r\n    getDuration: function(ms) {   \r\n        var min = (ms/1000/60) << 0;\r\n        var sec = (ms/1000) % 60;\r\n\r\n        return Math.round(min, -2) + ':' + ((Math.round(sec, -2) < 10) ? (\"0\" + Math.round(sec, -2)) : Math.round(sec, -2));      \r\n    },\r\n    playTrack: function(event) {\r\n        var trackUrl = event.target.dataset.url;\r\n        this.setState({isPlaying: true});\r\n        if(this.state.playingTrack === null) { //first time track is played\r\n            var that = this;\r\n            this.setState({isPlaying: true, playingTrack: new Audio(trackUrl)}, function() {\r\n                this.state.playingTrack.play();  \r\n                this.state.playingTrack.addEventListener('ended', function() {\r\n                    that.setState({isPlaying: false});\r\n                }); \r\n            });\r\n            \r\n        } else if(this.state.playingTrack.paused) {\r\n                this.state.playingTrack.play();\r\n                this.setState({isPlaying: true});\r\n        } else {\r\n                this.state.playingTrack.pause();\r\n                this.setState({isPlaying: false});              \r\n        }\r\n    },    \r\n    render: function(){\r\n        var playButtonClassNames = this.state.isPlaying ? 'fa fa-pause' : 'fa fa-play';\r\n        var playButtonStyle = {cursor: 'default'};        \r\n        return(\r\n                <li \r\n                    className=\"list-group-item\"\r\n                            >\r\n                    <span className=\"badge\">\r\n                        <i \r\n                            style={playButtonStyle}\r\n                            className={playButtonClassNames}\r\n                            data-url={this.props.track.preview_url}\r\n                            onClick={this.playTrack}\r\n                            title={this.props.tooltip}\r\n                        >\r\n                        </i>\r\n                    </span>\r\n                {this.props.track.track_number}. {this.props.track.name} ({this.getDuration(this.props.track.duration_ms)})\r\n                </li>\r\n                );        \r\n    }\r\n});\r\n\r\nmodule.exports = SpotifyPlayer;\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}